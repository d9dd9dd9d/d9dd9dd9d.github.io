

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Guitar feedback &mdash; Notebook  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lo-Fi Crusher" href="139-lo-fi-crusher.html" />
    <link rel="prev" title="Fold back distortion" href="203-fold-back-distortion.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Notebook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Synthesis/index.html">Synthesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Analysis/index.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Filters/index.html">Filters</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Effects</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="89-2-wave-shaping-things.html">2 Wave shaping things</a></li>
<li class="toctree-l2"><a class="reference internal" href="70-alien-wah.html">Alien Wah</a></li>
<li class="toctree-l2"><a class="reference internal" href="221-band-limited-pwm-generator.html">Band Limited PWM Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="96-bit-quantization-reduction-effect.html">Bit quantization/reduction effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="98-class-for-waveguide-delay-effects.html">Class for waveguide/delay effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="169-compressor.html">Compressor</a></li>
<li class="toctree-l2"><a class="reference internal" href="124-decimator.html">Decimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="44-delay-time-calculation-for-reverberation.html">Delay time calculation for reverberation</a></li>
<li class="toctree-l2"><a class="reference internal" href="207-dynamic-convolution.html">Dynamic convolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="102-ece320-project-reverberation-w-parameter-control-from-pc.html">ECE320 project: Reverberation w/ parameter control from PC</a></li>
<li class="toctree-l2"><a class="reference internal" href="74-early-echo-s-with-image-mirror-technique.html">Early echo’s with image-mirror technique</a></li>
<li class="toctree-l2"><a class="reference internal" href="203-fold-back-distortion.html">Fold back distortion</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Guitar feedback</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#comments">Comments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="139-lo-fi-crusher.html">Lo-Fi Crusher</a></li>
<li class="toctree-l2"><a class="reference internal" href="274-lookahead-limiter.html">Lookahead Limiter</a></li>
<li class="toctree-l2"><a class="reference internal" href="154-most-simple-and-smooth-feedback-delay.html">Most simple and smooth feedback delay</a></li>
<li class="toctree-l2"><a class="reference internal" href="153-most-simple-static-delay.html">Most simple static delay</a></li>
<li class="toctree-l2"><a class="reference internal" href="101-parallel-combs-delay-calculation.html">Parallel combs delay calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="78-phaser-code.html">Phaser code</a></li>
<li class="toctree-l2"><a class="reference internal" href="230-polynominal-waveshaper.html">Polynominal Waveshaper</a></li>
<li class="toctree-l2"><a class="reference internal" href="150-reverberation-algorithms-in-matlab.html">Reverberation Algorithms in Matlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="45-reverberation-techniques.html">Reverberation techniques</a></li>
<li class="toctree-l2"><a class="reference internal" href="204-simple-compressor-class-c.html">Simple Compressor class (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="42-soft-saturation.html">Soft saturation</a></li>
<li class="toctree-l2"><a class="reference internal" href="173-stereo-enhancer.html">Stereo Enhancer</a></li>
<li class="toctree-l2"><a class="reference internal" href="255-stereo-field-rotation-via-transformation-matrix.html">Stereo Field Rotation Via Transformation Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="256-stereo-width-control-obtained-via-transfromation-matrix.html">Stereo Width Control (Obtained Via Transfromation Matrix)</a></li>
<li class="toctree-l2"><a class="reference internal" href="126-time-compression-expansion-using-standard-phase-vocoder.html">Time compression-expansion using standard phase vocoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="177-transistor-differential-amplifier-simulation.html">Transistor differential amplifier simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="277-univox-univibe-emulator.html">UniVox Univibe Emulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="104-variable-hardness-clipping-function.html">Variable-hardness clipping function</a></li>
<li class="toctree-l2"><a class="reference internal" href="41-waveshaper.html">WaveShaper</a></li>
<li class="toctree-l2"><a class="reference internal" href="43-waveshaper.html">Waveshaper</a></li>
<li class="toctree-l2"><a class="reference internal" href="46-waveshaper.html">Waveshaper</a></li>
<li class="toctree-l2"><a class="reference internal" href="114-waveshaper-simple-description.html">Waveshaper (simple description)</a></li>
<li class="toctree-l2"><a class="reference internal" href="86-waveshaper-gloubi-boulga.html">Waveshaper :: Gloubi-boulga</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Other/index.html">Other</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Notebook</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Effects</a> &raquo;</li>
        
      <li>Guitar feedback</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="guitar-feedback">
<h1>Guitar feedback<a class="headerlink" href="#guitar-feedback" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><strong>Author or source:</strong> Sean Costello</p></li>
<li><p><strong>Created:</strong> 2002-02-10 20:01:07</p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">notes</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>It is fairly simple to simulate guitar feedback with a simple Karplus-Strong algorithm
(this was described in a CMJ article in the early 90&#39;s):
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">code</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span>Run the output of the Karplus-Strong delay lines into a nonlinear shaping function for distortion
(i.e. 6 parallel delay lines for 6 strings, going into 1 nonlinear shaping function that simulates
an overdriven amplifier, fuzzbox, etc.);

Run part of the output into a delay line, to simulate the distance from the amplifier to the
&quot;strings&quot;;

The delay line feeds back into the Karplus-Strong delay lines. By controlling the amount of the
output fed into the delay line, and the length of the delay line, you can control the intensity
and pitch of the feedback note.
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Date</strong>: 2016-06-10 19:59:36</p></li>
<li><p><strong>By</strong>: <a class="reference external" href="mailto:moc&#46;liamg&#37;&#52;&#48;1a7102egroj">moc<span>&#46;</span>liamg<span>&#64;</span>1a7102egroj</a></p></li>
</ul>
<div class="highlight-VB.net notranslate"><div class="highlight"><pre><span></span><span class="c">&#39;NO esta completo falta algo, no se, si es el filtro biquad</span>

<span class="k">Public</span> <span class="k">Function</span> <span class="nf">karplustrong_b1</span><span class="p">(</span><span class="n">PNumSamples</span> <span class="ow">As</span> <span class="kt">Long</span><span class="p">)</span> <span class="ow">As</span> <span class="kt">Integer</span><span class="p">()</span>
<span class="k">Dim</span> <span class="n">x</span><span class="p">()</span> <span class="ow">As</span> <span class="k">Single</span>
<span class="k">Dim</span> <span class="n">y</span><span class="p">()</span> <span class="ow">As</span> <span class="k">Single</span>
<span class="k">Dim</span> <span class="n">n</span> <span class="ow">As</span> <span class="kt">Long</span>
<span class="k">Dim</span> <span class="n">Num</span> <span class="ow">As</span> <span class="kt">Long</span>
<span class="k">Dim</span> <span class="n">ArrResp</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">Integer</span>
<span class="k">Dim</span> <span class="n">C</span> <span class="ow">As</span> <span class="k">Single</span>
<span class="k">Dim</span> <span class="n">Fs</span> <span class="ow">As</span> <span class="kt">Long</span>
<span class="k">Dim</span> <span class="n">fP</span> <span class="ow">As</span> <span class="k">Single</span>
<span class="k">Dim</span> <span class="n">amplitud</span> <span class="ow">As</span> <span class="kt">Long</span>
<span class="k">Dim</span> <span class="n">i</span> <span class="ow">As</span> <span class="kt">Long</span>
<span class="k">Dim</span> <span class="n">valor</span> <span class="ow">As</span> <span class="k">Single</span>
<span class="k">Dim</span> <span class="n">Ind1</span> <span class="ow">As</span> <span class="kt">Long</span>
<span class="k">Dim</span> <span class="n">Ind2</span> <span class="ow">As</span> <span class="kt">Long</span>
<span class="k">Dim</span> <span class="n">suma</span> <span class="ow">As</span> <span class="k">Single</span>
<span class="k">Dim</span> <span class="n">media</span> <span class="ow">As</span> <span class="k">Single</span>
<span class="k">Dim</span> <span class="n">valorsigno</span> <span class="ow">As</span> <span class="k">Single</span>


    <span class="n">Fs</span> <span class="o">=</span> <span class="mi">44100</span>
    <span class="n">fP</span> <span class="o">=</span> <span class="mi">400</span> <span class="c">&#39;400hz pitch frequency</span>

    <span class="c">&#39;Num = (Fs / Fp)</span>


    <span class="k">ReDim</span> <span class="n">x</span><span class="p">(</span><span class="n">PNumSamples</span><span class="p">)</span>
    <span class="k">ReDim</span> <span class="n">y</span><span class="p">(</span><span class="n">PNumSamples</span><span class="p">)</span>




    <span class="c">&#39;generar numeros aleatorios rango 0 a 1</span>
    <span class="c">&#39;iniciar numeros aleatorios</span>
    <span class="n">Randomize</span>
    <span class="n">suma</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">For</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">To</span> <span class="n">PNumSamples</span>
        <span class="n">valor</span> <span class="o">=</span> <span class="n">Rnd</span> <span class="o">*</span> <span class="mi">1</span> <span class="o">-</span> <span class="mf">0.5</span>

        <span class="c">&#39;valorsigno = Rnd * 1</span>
        <span class="c">&#39;If valorsigno &gt; 0.5 Then valor = -valor</span>

        <span class="n">x</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="n">valor</span>
        <span class="n">suma</span> <span class="o">=</span> <span class="n">suma</span> <span class="o">+</span> <span class="n">valor</span>
    <span class="k">Next</span>

    <span class="n">media</span> <span class="o">=</span> <span class="n">suma</span> <span class="o">/</span> <span class="n">PNumSamples</span>
    <span class="c">&#39;media = 1</span>

    <span class="c">&#39;calcular la media y dividir</span>
    <span class="k">For</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">To</span> <span class="n">PNumSamples</span>
        <span class="n">valor</span> <span class="o">=</span> <span class="n">x</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">x</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="n">valor</span> <span class="o">/</span> <span class="n">media</span>
    <span class="k">Next</span>



    <span class="n">Num</span> <span class="o">=</span> <span class="n">PNumSamples</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">C</span> <span class="o">=</span> <span class="mf">0.5</span>

    <span class="k">For</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">To</span> <span class="n">PNumSamples</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="c">&#39;Ind1 = Abs(n - Num)</span>
        <span class="c">&#39;Ind2 = Abs(n - (Num + 1))</span>
        <span class="n">Ind2</span> <span class="o">=</span> <span class="n">Abs</span><span class="p">((</span><span class="n">n</span><span class="p">))</span>
        <span class="n">Ind2</span> <span class="o">=</span> <span class="n">Abs</span><span class="p">((</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">Mod</span> <span class="n">Num</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">y</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="n">C</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span><span class="p">(</span><span class="n">Ind1</span><span class="p">)</span> <span class="o">+</span> <span class="n">y</span><span class="p">(</span><span class="n">Ind2</span><span class="p">))</span>
    <span class="k">Next</span>


    <span class="k">ReDim</span> <span class="n">ArrResp</span><span class="p">(</span><span class="n">PNumSamples</span><span class="p">)</span>
    <span class="n">amplitud</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="k">For</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">To</span> <span class="n">Num</span>
        <span class="n">ArrResp</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="n">RangoInteger</span><span class="p">(</span><span class="n">y</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="n">amplitud</span><span class="p">)</span>
    <span class="k">Next</span>

    <span class="n">karplustrong_b1</span> <span class="o">=</span> <span class="n">ArrResp</span>
<span class="k">End</span> <span class="k">Function</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="139-lo-fi-crusher.html" class="btn btn-neutral float-right" title="Lo-Fi Crusher" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="203-fold-back-distortion.html" class="btn btn-neutral float-left" title="Fold back distortion" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Too many to list

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>